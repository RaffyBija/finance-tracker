/* ============================================
   CUSTOM UTILITIES
   Utility classes personalizzate
   ============================================ */

@layer utilities {
  /* ============================
     LAYOUT UTILITIES
     ============================ */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .section-spacing {
    @apply py-8;
  }

  .section-spacing-lg {
    @apply py-12;
  }

  /* ============================
     FLEX UTILITIES
     ============================ */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  .flex-start {
    @apply flex items-start justify-between;
  }

  /* ============================
     TEXT UTILITIES
     ============================ */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-400;
    @apply bg-clip-text text-transparent;
  }

  .text-balance {
    text-wrap: balance;
  }

  /* ============================
     TRUNCATE UTILITIES
     ============================ */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* ============================
     SCROLLBAR UTILITIES
     ============================ */
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-none {
    scrollbar-width: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar */
  .scrollbar-custom::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-custom::-webkit-scrollbar-track {
    @apply bg-neutral-100 rounded-full;
  }

  .scrollbar-custom::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 rounded-full;
    @apply hover:bg-neutral-400;
  }

  /* ============================
     BACKGROUND UTILITIES
     ============================ */
  .bg-pattern-dots {
    background-image: radial-gradient(circle, #e5e7eb 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .bg-pattern-grid {
    background-image: 
      linear-gradient(#e5e7eb 1px, transparent 1px),
      linear-gradient(90deg, #e5e7eb 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .bg-blur {
    backdrop-filter: blur(8px);
  }

  .bg-blur-lg {
    backdrop-filter: blur(16px);
  }

  /* ============================
     GRADIENT UTILITIES
     ============================ */
  .gradient-primary {
    @apply bg-gradient-to-br from-primary-500 to-primary-700;
  }

  .gradient-success {
    @apply bg-gradient-to-br from-success-500 to-success-700;
  }

  .gradient-danger {
    @apply bg-gradient-to-br from-danger-500 to-danger-700;
  }

  .gradient-radial-primary {
    background: radial-gradient(circle, theme('colors.primary.400'), theme('colors.primary.600'));
  }

  /* ============================
     ASPECT RATIO UTILITIES
     ============================ */
  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-4-3 {
    aspect-ratio: 4 / 3;
  }

  /* ============================
     RING UTILITIES (for focus states)
     ============================ */
  .ring-focus-primary {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .ring-focus-success {
    @apply focus:outline-none focus:ring-2 focus:ring-success-500 focus:ring-offset-2;
  }

  .ring-focus-danger {
    @apply focus:outline-none focus:ring-2 focus:ring-danger-500 focus:ring-offset-2;
  }

  /* ============================
     SPACING UTILITIES
     ============================ */
  .space-y-section > * + * {
    @apply mt-8;
  }

  .space-y-section-lg > * + * {
    @apply mt-12;
  }

  /* ============================
     SAFE AREA UTILITIES (for mobile)
     ============================ */
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }

  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }

  /* ============================
     TOUCH UTILITIES
     ============================ */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* ============================
     PRINT UTILITIES
     ============================ */
  @media print {
    .print-hidden {
      display: none !important;
    }

    .print-visible {
      display: block !important;
    }
  }

  /* ============================
     INTERACTION UTILITIES
     ============================ */
  .no-tap-highlight {
    -webkit-tap-highlight-color: transparent;
  }

  .smooth-scroll {
    scroll-behavior: smooth;
  }

  /* ============================
     DIVIDER UTILITIES
     ============================ */
  .divider {
    @apply border-t border-neutral-200;
  }

  .divider-vertical {
    @apply border-l border-neutral-200;
  }

  .divider-dashed {
    @apply border-t border-dashed border-neutral-300;
  }

  /* ============================
     GLASS EFFECT
     ============================ */
  .glass {
    @apply bg-white/80 backdrop-blur-lg;
    @apply border border-white/20;
  }

  .glass-dark {
    @apply bg-neutral-900/80 backdrop-blur-lg;
    @apply border border-white/10;
  }

  /* ============================
     SKELETON LOADING
     ============================ */
  .skeleton {
    @apply bg-neutral-200 animate-pulse-subtle rounded;
  }

  .skeleton-text {
    @apply skeleton h-4 my-2;
  }

  .skeleton-title {
    @apply skeleton h-6 w-3/4 mb-4;
  }

  .skeleton-circle {
    @apply skeleton rounded-full;
  }

  /* ============================
     SHINE EFFECT (for loading)
     ============================ */
  .shine {
    position: relative;
    overflow: hidden;
  }

  .shine::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    animation: shine 2s infinite;
  }

  @keyframes shine {
    to {
      left: 100%;
    }
  }

  /* ============================
     BLUR VARIANTS
     ============================ */
  .blur-xs {
    filter: blur(2px);
  }

  .blur-sm {
    filter: blur(4px);
  }

  .blur-md {
    filter: blur(8px);
  }

  .blur-lg {
    filter: blur(12px);
  }

  /* ============================
     STATUS INDICATORS
     ============================ */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }

  .status-dot-success {
    @apply status-dot bg-success-500;
  }

  .status-dot-danger {
    @apply status-dot bg-danger-500;
  }

  .status-dot-warning {
    @apply status-dot bg-warning-500;
  }

  .status-dot-pulse {
    @apply status-dot animate-pulse-subtle;
  }

  /* ============================
     ICON SIZES
     ============================ */
  .icon-xs {
    @apply w-3 h-3;
  }

  .icon-sm {
    @apply w-4 h-4;
  }

  .icon-md {
    @apply w-5 h-5;
  }

  .icon-lg {
    @apply w-6 h-6;
  }

  .icon-xl {
    @apply w-8 h-8;
  }

  .icon-2xl {
    @apply w-10 h-10;
  }

  /* ============================
     RESPONSIVE VISIBILITY
     ============================ */
  .mobile-only {
    @apply block md:hidden;
  }

  .desktop-only {
    @apply hidden md:block;
  }

  .tablet-only {
    @apply hidden md:block lg:hidden;
  }
}